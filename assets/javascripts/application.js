var Konami=function(a){var b={addEvent:function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event,d)},a.attachEvent("on"+b,a[b+c]))},input:"",enableQuickReplay:!1,pattern:"38384040373937396665",quickReplayPattern:"13",load:function(a){this.addEvent(document,"keydown",function(c,d){var e=c?c.keyCode:event.keyCode;return d&&(b=d),b.input+=e,b.input.length>b.pattern.length&&(b.input=b.input.substr(b.input.length-b.pattern.length)),b.input==b.pattern||b.enableQuickReplay&&e==b.quickReplayPattern?(b.enableQuickReplay=!0,b.code(a),b.input="",c.preventDefault(),!1):void 0},this),this.iphone.load(a)},code:function(a){window.location=a},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],code:function(a){b.code(a)},load:function(a){this.orig_keys=this.keys,b.addEvent(document,"touchmove",function(a){if(1==a.touches.length&&1==b.iphone.capture){var c=a.touches[0];b.iphone.stop_x=c.pageX,b.iphone.stop_y=c.pageY,b.iphone.tap=!1,b.iphone.capture=!1,b.iphone.check_direction()}}),b.addEvent(document,"touchend",function(){1==b.iphone.tap&&b.iphone.check_direction(a)},!1),b.addEvent(document,"touchstart",function(a){b.iphone.start_x=a.changedTouches[0].pageX,b.iphone.start_y=a.changedTouches[0].pageY,b.iphone.tap=!0,b.iphone.capture=!0})},check_direction:function(a){x_magnitude=Math.abs(this.start_x-this.stop_x),y_magnitude=Math.abs(this.start_y-this.stop_y),x=this.start_x-this.stop_x<0?"RIGHT":"LEFT",y=this.start_y-this.stop_y<0?"DOWN":"UP",result=x_magnitude>y_magnitude?x:y,result=1==this.tap?"TAP":result,result==this.keys[0]&&(this.keys=this.keys.slice(1,this.keys.length)),0==this.keys.length&&(this.keys=this.orig_keys,this.code(a))}}};return"string"==typeof a&&b.load(a),"function"==typeof a&&(b.code=a,b.load()),b};window.smoothScroll=function(a,b,c){"use strict";var d={speed:500,easing:"easeInOutCubic",offset:0,updateURL:!1,callbackBefore:function(){},callbackAfter:function(){}},e=function(a,b){for(var c in b)a[c]=b[c];return a},f=function(a,b){return"easeInQuad"==a?b*b:"easeOutQuad"==a?b*(2-b):"easeInOutQuad"==a?.5>b?2*b*b:-1+(4-2*b)*b:"easeInCubic"==a?b*b*b:"easeOutCubic"==a?--b*b*b+1:"easeInOutCubic"==a?.5>b?4*b*b*b:(b-1)*(2*b-2)*(2*b-2)+1:"easeInQuart"==a?b*b*b*b:"easeOutQuart"==a?1- --b*b*b*b:"easeInOutQuart"==a?.5>b?8*b*b*b*b:1-8*--b*b*b*b:"easeInQuint"==a?b*b*b*b*b:"easeOutQuint"==a?1+--b*b*b*b*b:"easeInOutQuint"==a?.5>b?16*b*b*b*b*b:1+16*--b*b*b*b*b:b},g=function(a,b,c){var d=0;if(a.offsetParent)do d+=a.offsetTop,a=a.offsetParent;while(a);return d=d-b-c,d>=0?d:0},h=function(){return Math.max(b.body.scrollHeight,b.documentElement.scrollHeight,b.body.offsetHeight,b.documentElement.offsetHeight,b.body.clientHeight,b.documentElement.clientHeight)},i=function(a){if(null===a||a===c)return{};var b={};return a=a.split(";"),a.forEach(function(a){a=a.trim(),""!==a&&(a=a.split(":"),b[a[0]]=a[1].trim())}),b},j=function(a,b){b!==!0&&"true"!==b||!history.pushState||history.pushState({pos:a.id},"",a)},k=function(c,k,l,m){l=e(d,l||{});var n,o,p,q=i(c?c.getAttribute("data-options"):null),r=parseInt(q.speed||l.speed,10),s=q.easing||l.easing,t=parseInt(q.offset||l.offset,10),u=q.updateURL||l.updateURL,v=b.querySelector("[data-scroll-header]"),w=null===v?0:v.offsetHeight+v.offsetTop,x=a.pageYOffset,y=g(b.querySelector(k),w,t),z=y-x,A=h(),B=0;c&&"A"===c.tagName&&m&&m.preventDefault(),j(k,u);var C=function(b,d,e){var f=a.pageYOffset;(b==d||f==d||a.innerHeight+f>=A)&&(clearInterval(e),l.callbackAfter(c,k))},D=function(){B+=16,o=B/r,o=o>1?1:o,p=x+z*f(s,o),a.scrollTo(0,Math.floor(p)),C(p,y,n)},E=function(){l.callbackBefore(c,k),n=setInterval(D,16)};0===a.pageYOffset&&a.scrollTo(0,0),E()},l=function(c){if("querySelector"in b&&"addEventListener"in a&&Array.prototype.forEach){c=e(d,c||{});var f=b.querySelectorAll("[data-scroll]");Array.prototype.forEach.call(f,function(a){a.addEventListener("click",k.bind(null,a,a.getAttribute("href"),c),!1)})}};return{init:l,animateScroll:k}}(window,document),function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.viewportUnitsBuggyfill=b()}(this,function(){"use strict";function a(a){q||!a&&!u||(q=!0,p=document.createElement("style"),p.id="patched-viewport",document.head.appendChild(p),j(function(){window.addEventListener("orientationchange",c,!0),c()}))}function b(){p.textContent=f()}function c(){q&&(d(),b())}function d(){return o=[],s.call(document.styleSheets,function(a){"patched-viewport"!==a.ownerNode.id&&a.cssRules&&(!a.media.mediaText||window.matchMedia(a.media.mediaText).matches)&&s.call(a.cssRules,e)}),o}function e(a){if(7===a.type){var b=a.cssText;return r.lastIndex=0,void(r.test(b)&&o.push([a,null,b]))}if(!a.style){if(!a.cssRules)return;return void s.call(a.cssRules,function(a){e(a)})}s.call(a.style,function(b){var c=a.style.getPropertyValue(b);r.lastIndex=0,r.test(c)&&o.push([a,b,c])})}function f(){n=i();var a,b,c=[],d=[];return o.forEach(function(e){var f=g.apply(null,e),h=f.selector.length?f.selector.join(" {\n")+" {\n":"",i=new Array(f.selector.length+1).join("\n}");return h&&h===a?(h&&!a&&(a=h,b=i),void d.push(f.content)):(d.length&&(c.push(a+d.join("\n")+b),d.length=0),void(h?(a=h,b=i,d.push(f.content)):(c.push(f.content),a=null,b=null)))}),d.length&&c.push(a+d.join("\n")+b),c.join("\n\n")}function g(a,b,c){var d=c.replace(r,h),e=[];b&&(e.push(a.selectorText),d=b+": "+d+";");for(var f=a.parentRule;f;)e.unshift("@media "+t.call(f.media,", ")),f=f.parentRule;return{selector:e,content:d}}function h(a,b,c){var d=n[c],e=parseFloat(b)/100;return e*d+"px"}function i(){var a=window.innerHeight,b=window.innerWidth;return{vh:a,vw:b,vmax:Math.max(b,a),vmin:Math.min(b,a)}}function j(a){var b=0,c=function(){b--,b||a()};s.call(document.styleSheets,function(a){a.href&&k(a.href)!==k(location.href)&&(b++,l(a.ownerNode,c))}),b||a()}function k(a){return a.slice(0,a.indexOf("/",a.indexOf("://")+3))}function l(a,b){m(a.href,function(){var c=document.createElement("style");c.media=a.media,c.setAttribute("data-href",a.href),c.textContent=this.responseText,a.parentNode.replaceChild(c,a),b()},b)}function m(a,b,c){var d=new XMLHttpRequest;if("withCredentials"in d)d.open("GET",a,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");d=new XDomainRequest,d.open("GET",a)}return d.onload=b,d.onerror=c,d.send(),d}var n,o,p,q=!1,r=/([0-9.-]+)(vh|vw|vmin|vmax)/g,s=[].forEach,t=[].join,u=/(iPhone|iPod|iPad).+AppleWebKit/i.test(window.navigator.userAgent);return{version:"0.3.1",findProperties:d,getCss:f,init:a,refresh:c}});var EasterEgg=function(a,b){var c={konamiCodeLock:!1,currentStep:0,message:JSON.parse(document.body.dataset.easterEgg),longDurationBefore:3e3,longDurationAfter:2e3,shortDurationBefore:3e3,shortDurationAfter:2e3,blackBackground:void 0,createMessage:function(){var a=document.createElement("span");a.id="easter-egg-text";var b=document.createElement("span");b.id="easter-egg-prompt",b.className="easter-egg-prompt";var c=document.createTextNode("_");b.appendChild(c);var d=document.createElement("p");return d.appendChild(a),d.appendChild(b),d.className="easter-egg-message",d},createBlackBackground:function(){var a=document.createElement("div");return a.id="black-overlay",a.className+="black-overlay hidden",a.appendChild(c.createMessage()),a},showText:function(a,b,d,e){d<b.length&&(letter=document.createTextNode(b[d++]),a.appendChild(letter),setTimeout(function(){c.showText(a,b,d,e)},e))},animateMessage:function(){var d,e;c.currentStep>0&&0!=c.message[c.currentStep].length?(d=c.longDurationBefore,e=c.longDurationAfter):(d=c.shortDurationBefore,e=c.shortDurationAfter),setTimeout(function(){c.blackBackground.className=c.blackBackground.className.replace(/\bhidden\b/,""),setTimeout(function(){textSpan=document.getElementById("easter-egg-text"),c.currentStep<c.message.length&&c.showText(textSpan,c.message[c.currentStep],0,100),setTimeout(function(){var d;if(4==c.currentStep||15==c.currentStep){d=3e3;var e=document.createElement("img");e.src=4==c.currentStep?a:b,c.blackBackground.appendChild(e)}setTimeout(function(){c.currentStep++,c.blackBackground.className+=" crt-off",sections=document.getElementById("all-sections"),sections.className=sections.className.replace(/\boff-screen\b/,""),setTimeout(function(){c.blackBackground.className+=" hidden",setTimeout(function(){document.body.removeChild(c.blackBackground),c.konamiCodeLock=!1},100)},300)},d)},140*c.message[c.currentStep].length+e)},d)},1500)},displayMessage:function(){c.konamiCodeLock||(c.konamiCodeLock=!0,document.getElementById("all-sections").className+=" off-screen",c.blackBackground=c.createBlackBackground(),document.body.appendChild(c.blackBackground),c.animateMessage())}};return c};easterEgg=new EasterEgg(document.body.getAttribute("data-easter-first-image"),document.body.getAttribute("data-easter-second-image")),konami=new Konami(easterEgg.displayMessage),window.viewportUnitsBuggyfill.init();
//# sourceMappingURL=application.js.map